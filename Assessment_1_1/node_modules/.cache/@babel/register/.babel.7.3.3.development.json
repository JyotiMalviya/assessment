{
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\server.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst bodyParser = require('body-parser');\n\nconst mongoose = require('mongoose');\n\nconst router = express.Router();\n\nconst path = require('path');\n\nconst app = express(); // creates an express application\n\nconst database = require(\"./config/db\");\n\nconst port = process.env.port || 3000;\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: false\n})); //controller\n\napp.use('/user', require('./controller/user.controller'));\napp.use('/user/blog', require('./controller/blog.controller'));\napp.use('/user/blog/comments', require('./controller/comments.controller')); //listen to server 3000\n\napp.listen(port, () => {\n  console.log(app.get('port'));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJtb25nb29zZSIsInJvdXRlciIsIlJvdXRlciIsInBhdGgiLCJhcHAiLCJkYXRhYmFzZSIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwidXNlIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJnZXQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNRSxRQUFRLEdBQUNGLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1HLE1BQU0sR0FBQ0osT0FBTyxDQUFDSyxNQUFSLEVBQWI7O0FBQ0EsTUFBTUMsSUFBSSxHQUFDTCxPQUFPLENBQUMsTUFBRCxDQUFsQjs7QUFDQSxNQUFNTSxHQUFHLEdBQUdQLE9BQU8sRUFBbkIsQyxDQUF1Qjs7QUFDdkIsTUFBTVEsUUFBUSxHQUFHUCxPQUFPLENBQUMsYUFBRCxDQUF4Qjs7QUFDQSxNQUFNUSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBQWpDO0FBR0FGLEdBQUcsQ0FBQ0ssR0FBSixDQUFRVixVQUFVLENBQUNXLElBQVgsRUFBUjtBQUNBTixHQUFHLENBQUNLLEdBQUosQ0FBUVYsVUFBVSxDQUFDWSxVQUFYLENBQXNCO0FBQUNDLEVBQUFBLFFBQVEsRUFBRTtBQUFYLENBQXRCLENBQVIsRSxDQUVBOztBQUNBUixHQUFHLENBQUNLLEdBQUosQ0FBUSxPQUFSLEVBQWlCWCxPQUFPLENBQUMsOEJBQUQsQ0FBeEI7QUFDQU0sR0FBRyxDQUFDSyxHQUFKLENBQVEsWUFBUixFQUFzQlgsT0FBTyxDQUFDLDhCQUFELENBQTdCO0FBQ0FNLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLHFCQUFSLEVBQStCWCxPQUFPLENBQUMsa0NBQUQsQ0FBdEMsRSxDQUVBOztBQUNBTSxHQUFHLENBQUNTLE1BQUosQ0FBV1AsSUFBWCxFQUFnQixNQUFJO0FBQ2hCUSxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWVgsR0FBRyxDQUFDWSxHQUFKLENBQVEsTUFBUixDQUFaO0FBQ0gsQ0FGRCIsInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdHNcXERlbW9Qcm9qZWN0c1xcQXNzZXNzbWVudF8xXzEiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcclxuY29uc3QgbW9uZ29vc2U9cmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3Qgcm91dGVyPWV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IHBhdGg9cmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7IC8vIGNyZWF0ZXMgYW4gZXhwcmVzcyBhcHBsaWNhdGlvblxyXG5jb25zdCBkYXRhYmFzZSA9IHJlcXVpcmUoXCIuL2NvbmZpZy9kYlwiKTtcclxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LnBvcnQgfHwgMzAwMDtcclxuXHJcblxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiBmYWxzZX0pKTtcclxuXHJcbi8vY29udHJvbGxlclxyXG5hcHAudXNlKCcvdXNlcicsIHJlcXVpcmUoJy4vY29udHJvbGxlci91c2VyLmNvbnRyb2xsZXInKSk7XHJcbmFwcC51c2UoJy91c2VyL2Jsb2cnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXIvYmxvZy5jb250cm9sbGVyJykpO1xyXG5hcHAudXNlKCcvdXNlci9ibG9nL2NvbW1lbnRzJywgcmVxdWlyZSgnLi9jb250cm9sbGVyL2NvbW1lbnRzLmNvbnRyb2xsZXInKSk7XHJcblxyXG4vL2xpc3RlbiB0byBzZXJ2ZXIgMzAwMFxyXG5hcHAubGlzdGVuKHBvcnQsKCk9PntcclxuICAgIGNvbnNvbGUubG9nKGFwcC5nZXQoJ3BvcnQnKSk7XHJcbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "express",
        "require",
        "bodyParser",
        "mongoose",
        "router",
        "Router",
        "path",
        "app",
        "database",
        "port",
        "process",
        "env",
        "use",
        "json",
        "urlencoded",
        "extended",
        "listen",
        "console",
        "log",
        "get"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,QAAQ,GAACF,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMG,MAAM,GAACJ,OAAO,CAACK,MAAR,EAAb;;AACA,MAAMC,IAAI,GAACL,OAAO,CAAC,MAAD,CAAlB;;AACA,MAAMM,GAAG,GAAGP,OAAO,EAAnB,C,CAAuB;;AACvB,MAAMQ,QAAQ,GAAGP,OAAO,CAAC,aAAD,CAAxB;;AACA,MAAMQ,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AAGAF,GAAG,CAACK,GAAJ,CAAQV,UAAU,CAACW,IAAX,EAAR;AACAN,GAAG,CAACK,GAAJ,CAAQV,UAAU,CAACY,UAAX,CAAsB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAtB,CAAR,E,CAEA;;AACAR,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBX,OAAO,CAAC,8BAAD,CAAxB;AACAM,GAAG,CAACK,GAAJ,CAAQ,YAAR,EAAsBX,OAAO,CAAC,8BAAD,CAA7B;AACAM,GAAG,CAACK,GAAJ,CAAQ,qBAAR,EAA+BX,OAAO,CAAC,kCAAD,CAAtC,E,CAEA;;AACAM,GAAG,CAACS,MAAJ,CAAWP,IAAX,EAAgB,MAAI;AAChBQ,EAAAA,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACY,GAAJ,CAAQ,MAAR,CAAZ;AACH,CAFD",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourcesContent": [
        "const express = require('express');\r\nconst bodyParser = require('body-parser');\r\nconst mongoose=require('mongoose');\r\nconst router=express.Router();\r\nconst path=require('path');\r\nconst app = express(); // creates an express application\r\nconst database = require(\"./config/db\");\r\nconst port = process.env.port || 3000;\r\n\r\n\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({extended: false}));\r\n\r\n//controller\r\napp.use('/user', require('./controller/user.controller'));\r\napp.use('/user/blog', require('./controller/blog.controller'));\r\napp.use('/user/blog/comments', require('./controller/comments.controller'));\r\n\r\n//listen to server 3000\r\napp.listen(port,()=>{\r\n    console.log(app.get('port'));\r\n});"
      ]
    },
    "sourceType": "module",
    "mtime": 1550748430082
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\config\\\\db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config\\db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config\\db.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config\\db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "const config = require('../config.json');\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(config.connectionString, {\n  useCreateIndex: true,\n  useNewUrlParser: true\n}).then(() => {\n  console.log(\"Conected to Database!\");\n}).catch(err => {\n  console.log(\"Connection failed \", err);\n});\nmodule.exports = {\n  User: require('../models/user.model'),\n  Blog: require('../models/blog.model'),\n  Comments: require('../models/comments.model')\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsInJlcXVpcmUiLCJtb25nb29zZSIsImNvbm5lY3QiLCJjb25uZWN0aW9uU3RyaW5nIiwidXNlQ3JlYXRlSW5kZXgiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwibW9kdWxlIiwiZXhwb3J0cyIsIlVzZXIiLCJCbG9nIiwiQ29tbWVudHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQXRCOztBQUNBLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBQ0FDLFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQkgsTUFBTSxDQUFDSSxnQkFBeEIsRUFBMEM7QUFBQ0MsRUFBQUEsY0FBYyxFQUFFLElBQWpCO0FBQXVCQyxFQUFBQSxlQUFlLEVBQUU7QUFBeEMsQ0FBMUMsRUFDQ0MsSUFERCxDQUNNLE1BQU07QUFDUkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVo7QUFDSCxDQUhELEVBSUNDLEtBSkQsQ0FJUUMsR0FBRCxJQUFTO0FBQ1pILEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDRSxHQUFsQztBQUNILENBTkQ7QUFRQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRWIsT0FBTyxDQUFDLHNCQUFELENBREE7QUFFYmMsRUFBQUEsSUFBSSxFQUFFZCxPQUFPLENBQUMsc0JBQUQsQ0FGQTtBQUdiZSxFQUFBQSxRQUFRLEVBQUVmLE9BQU8sQ0FBQywwQkFBRDtBQUhKLENBQWpCIiwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0c1xcRGVtb1Byb2plY3RzXFxBc3Nlc3NtZW50XzFfMVxcY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi4vY29uZmlnLmpzb24nKTtcclxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nLCB7dXNlQ3JlYXRlSW5kZXg6IHRydWUsIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSB9KVxyXG4udGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNvbmVjdGVkIHRvIERhdGFiYXNlIVwiKTtcclxufSlcclxuLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGlvbiBmYWlsZWQgXCIsIGVycik7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBVc2VyOiByZXF1aXJlKCcuLi9tb2RlbHMvdXNlci5tb2RlbCcpLFxyXG4gICAgQmxvZzogcmVxdWlyZSgnLi4vbW9kZWxzL2Jsb2cubW9kZWwnKSxcclxuICAgIENvbW1lbnRzOiByZXF1aXJlKCcuLi9tb2RlbHMvY29tbWVudHMubW9kZWwnKVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "config",
        "require",
        "mongoose",
        "connect",
        "connectionString",
        "useCreateIndex",
        "useNewUrlParser",
        "then",
        "console",
        "log",
        "catch",
        "err",
        "module",
        "exports",
        "User",
        "Blog",
        "Comments"
      ],
      "mappings": "AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACAC,QAAQ,CAACC,OAAT,CAAiBH,MAAM,CAACI,gBAAxB,EAA0C;AAACC,EAAAA,cAAc,EAAE,IAAjB;AAAuBC,EAAAA,eAAe,EAAE;AAAxC,CAA1C,EACCC,IADD,CACM,MAAM;AACRC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH,CAHD,EAICC,KAJD,CAIQC,GAAD,IAAS;AACZH,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCE,GAAlC;AACH,CAND;AAQAC,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,IAAI,EAAEb,OAAO,CAAC,sBAAD,CADA;AAEbc,EAAAA,IAAI,EAAEd,OAAO,CAAC,sBAAD,CAFA;AAGbe,EAAAA,QAAQ,EAAEf,OAAO,CAAC,0BAAD;AAHJ,CAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config",
      "sourcesContent": [
        "const config = require('../config.json');\r\nconst mongoose = require('mongoose');\r\nmongoose.connect(config.connectionString, {useCreateIndex: true, useNewUrlParser: true })\r\n.then(() => {\r\n    console.log(\"Conected to Database!\");\r\n})\r\n.catch((err) => {\r\n    console.log(\"Connection failed \", err);\r\n});\r\n\r\nmodule.exports = {\r\n    User: require('../models/user.model'),\r\n    Blog: require('../models/blog.model'),\r\n    Comments: require('../models/comments.model')\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1550739510054
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\models\\\\user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\user.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "const mongoose = require('mongoose');\n\nconst Schema = mongoose.Schema;\nconst userSchema = new Schema({\n  firstName: {\n    type: String,\n    required: true\n  },\n  lastName: {\n    type: String,\n    required: true\n  },\n  username: {\n    type: String,\n    unique: true,\n    required: true\n  },\n  hash_password: {\n    type: String,\n    required: true\n  },\n  createdDate: {\n    type: Date,\n    default: Date.now\n  }\n});\nuserSchema.set('toJSON', {\n  virtuals: true\n});\nmodule.exports = mongoose.model('User', userSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwidXNlclNjaGVtYSIsImZpcnN0TmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwidXNlcm5hbWUiLCJ1bmlxdWUiLCJoYXNoX3Bhc3N3b3JkIiwiY3JlYXRlZERhdGUiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsInNldCIsInZpcnR1YWxzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRSxNQUF4QjtBQUVBLE1BQU1DLFVBQVUsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDMUJFLEVBQUFBLFNBQVMsRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURlO0FBRTFCQyxFQUFBQSxRQUFRLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FGZ0I7QUFHMUJFLEVBQUFBLFFBQVEsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JJLElBQUFBLE1BQU0sRUFBRSxJQUF4QjtBQUE4QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXhDLEdBSGdCO0FBSTFCSSxFQUFBQSxhQUFhLEVBQUU7QUFBRU4sSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FKVztBQUsxQkssRUFBQUEsV0FBVyxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRVEsSUFBUjtBQUFjQyxJQUFBQSxPQUFPLEVBQUVELElBQUksQ0FBQ0U7QUFBNUI7QUFMYSxDQUFYLENBQW5CO0FBUUFaLFVBQVUsQ0FBQ2EsR0FBWCxDQUFlLFFBQWYsRUFBeUI7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBekI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbkIsUUFBUSxDQUFDb0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJqQixVQUF2QixDQUFqQiIsInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdHNcXERlbW9Qcm9qZWN0c1xcQXNzZXNzbWVudF8xXzFcXG1vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgZmlyc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGxhc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgaGFzaF9wYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjcmVhdGVkRGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9XHJcbn0pO1xyXG5cclxudXNlclNjaGVtYS5zZXQoJ3RvSlNPTicsIHsgdmlydHVhbHM6IHRydWUgfSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "userSchema",
        "firstName",
        "type",
        "String",
        "required",
        "lastName",
        "username",
        "unique",
        "hash_password",
        "createdDate",
        "Date",
        "default",
        "now",
        "set",
        "virtuals",
        "module",
        "exports",
        "model"
      ],
      "mappings": "AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,MAAMC,UAAU,GAAG,IAAID,MAAJ,CAAW;AAC1BE,EAAAA,SAAS,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADe;AAE1BC,EAAAA,QAAQ,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgB;AAG1BE,EAAAA,QAAQ,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBI,IAAAA,MAAM,EAAE,IAAxB;AAA8BH,IAAAA,QAAQ,EAAE;AAAxC,GAHgB;AAI1BI,EAAAA,aAAa,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJW;AAK1BK,EAAAA,WAAW,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,IAAR;AAAcC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAA5B;AALa,CAAX,CAAnB;AAQAZ,UAAU,CAACa,GAAX,CAAe,QAAf,EAAyB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAzB;AAEAC,MAAM,CAACC,OAAP,GAAiBnB,QAAQ,CAACoB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst userSchema = new Schema({\r\n    firstName: { type: String, required: true },\r\n    lastName: { type: String, required: true },\r\n    username: { type: String, unique: true, required: true },\r\n    hash_password: { type: String, required: true },\r\n    createdDate: { type: Date, default: Date.now }\r\n});\r\n\r\nuserSchema.set('toJSON', { virtuals: true });\r\n\r\nmodule.exports = mongoose.model('User', userSchema);"
      ]
    },
    "sourceType": "module",
    "mtime": 1550732796033
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\controller\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\controller\\\\user.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\user.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\user.controller.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst router = express.Router();\n\nconst userService = require('../service/user.service');\n\nrouter.post('/register', userService.register);\nrouter.post('/logIn', userService.login);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInVzZXJTZXJ2aWNlIiwicG9zdCIsInJlZ2lzdGVyIiwibG9naW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHSCxPQUFPLENBQUMseUJBQUQsQ0FBM0I7O0FBR0FDLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUJELFdBQVcsQ0FBQ0UsUUFBckM7QUFDQUosTUFBTSxDQUFDRyxJQUFQLENBQVksUUFBWixFQUFzQkQsV0FBVyxDQUFDRyxLQUFsQztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0c1xcRGVtb1Byb2plY3RzXFxBc3Nlc3NtZW50XzFfMVxcY29udHJvbGxlciIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IHVzZXJTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZS91c2VyLnNlcnZpY2UnKTtcclxuXHJcblxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgdXNlclNlcnZpY2UucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucG9zdCgnL2xvZ0luJywgdXNlclNlcnZpY2UubG9naW4pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiBcclxuXHJcblxyXG5cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "userService",
        "post",
        "register",
        "login",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAMC,WAAW,GAAGH,OAAO,CAAC,yBAAD,CAA3B;;AAGAC,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAyBD,WAAW,CAACE,QAArC;AACAJ,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBD,WAAW,CAACG,KAAlC;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
      "sourcesContent": [
        "const express = require('express');\r\nconst router = express.Router();\r\nconst userService = require('../service/user.service');\r\n\r\n\r\nrouter.post('/register', userService.register);\r\nrouter.post('/logIn', userService.login);\r\n\r\nmodule.exports = router;\r\n \r\n\r\n\r\n\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1550748180789
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\service\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\service\\\\user.service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\user.service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\user.service.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\user.service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
        "sourceFileName": "user.service.js"
      }
    },
    "ast": null,
    "code": "const config = require('../config.json');\n\nconst jwt = require('jsonwebtoken');\n\nconst bcrypt = require('bcryptjs');\n\nconst db = require('../config/db');\n\nconst UserModel = db.User;\nmodule.exports = {\n  register,\n  login\n}; //register user\n\nasync function register(req, res) {\n  var userParam = req.body;\n\n  if (Object.keys(userParam).length === 0) {\n    return res.status(400).send('Request Body is missing!!!');\n  } // validate\n\n\n  if (await UserModel.findOne({\n    username: userParam.username\n  })) {\n    return res.status(400).send(`Username ${userParam.username} is already taken`);\n  }\n\n  const user = new UserModel(userParam); // hash password\n\n  if (userParam.password) {\n    user.hash_password = bcrypt.hashSync(userParam.password, 10);\n  } // save user\n\n\n  await user.save().then(doc => {\n    if (!doc || doc.length === 0) {\n      return res.status(500).send(doc);\n    }\n\n    res.status(201).send({\n      \"message\": \"User Registered successfully!!!\",\n      \"data\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n} // login\n\n\nasync function login(req, res) {\n  const postData = req.body; //validate inputs\n\n  if (Object.keys(postData).length === 0) {\n    return res.status(400).send('Request Body is missing!!!');\n  }\n\n  if (!postData.username) {\n    return res.status(422).json({\n      errors: {\n        username: 'is required'\n      }\n    });\n  }\n\n  if (!postData.password) {\n    return res.status(422).json({\n      errors: {\n        password: 'is required'\n      }\n    });\n  } //get user\n\n\n  const user = await UserModel.findOne({\n    username: postData.username\n  }); //authenticate user\n\n  if (user && bcrypt.compareSync(postData.password, user.hash_password)) {\n    const token = jwt.sign({\n      sub: user.id\n    }, config.secret, {\n      expiresIn: config.tokenLife\n    });\n    const refreshToken = jwt.sign({\n      sub: user.id\n    }, config.refreshTokenSecret, {\n      expiresIn: config.refreshTokenLife\n    });\n    const response = {\n      \"status\": \"LoggedIn\",\n      \"token\": token,\n      \"refreshToken\": refreshToken\n    };\n    res.status(200).json(response);\n  } else {\n    res.status(500).json(\"UserName or Password is incorrect!!!!\");\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJyZXF1aXJlIiwiand0IiwiYmNyeXB0IiwiZGIiLCJVc2VyTW9kZWwiLCJVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwibG9naW4iLCJyZXEiLCJyZXMiLCJ1c2VyUGFyYW0iLCJib2R5IiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXR1cyIsInNlbmQiLCJmaW5kT25lIiwidXNlcm5hbWUiLCJ1c2VyIiwicGFzc3dvcmQiLCJoYXNoX3Bhc3N3b3JkIiwiaGFzaFN5bmMiLCJzYXZlIiwidGhlbiIsImRvYyIsImNhdGNoIiwiZXJyIiwianNvbiIsInBvc3REYXRhIiwiZXJyb3JzIiwiY29tcGFyZVN5bmMiLCJ0b2tlbiIsInNpZ24iLCJzdWIiLCJpZCIsInNlY3JldCIsImV4cGlyZXNJbiIsInRva2VuTGlmZSIsInJlZnJlc2hUb2tlbiIsInJlZnJlc2hUb2tlblNlY3JldCIsInJlZnJlc2hUb2tlbkxpZmUiLCJyZXNwb25zZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBdEI7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1HLEVBQUUsR0FBR0gsT0FBTyxDQUFDLGNBQUQsQ0FBbEI7O0FBQ0EsTUFBTUksU0FBUyxHQUFHRCxFQUFFLENBQUNFLElBQXJCO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxRQURhO0FBRWJDLEVBQUFBO0FBRmEsQ0FBakIsQyxDQUtBOztBQUNBLGVBQWVELFFBQWYsQ0FBd0JFLEdBQXhCLEVBQTZCQyxHQUE3QixFQUFrQztBQUM5QixNQUFJQyxTQUFTLEdBQUdGLEdBQUcsQ0FBQ0csSUFBcEI7O0FBQ0EsTUFBSUMsTUFBTSxDQUFD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R0FBRyxDQUFDa0MsSUFBSixDQUFTO0FBQUVDLE1BQUFBLEdBQUcsRUFBRWYsSUFBSSxDQUFDZ0I7QUFBWixLQUFULEVBQTJCdEMsTUFBTSxDQUFDdUMsTUFBbEMsRUFBMEM7QUFBQ0MsTUFBQUEsU0FBUyxFQUFHeEMsTUFBTSxDQUFDeUM7QUFBcEIsS0FBMUMsQ0FBZDtBQUNBLFVBQU1DLFlBQVksR0FBR3hDLEdBQUcsQ0FBQ2tDLElBQUosQ0FBUztBQUFFQyxNQUFBQSxHQUFHLEVBQUVmLElBQUksQ0FBQ2dCO0FBQVosS0FBVCxFQUEyQnRDLE1BQU0sQ0FBQzJDLGtCQUFsQyxFQUFzRDtBQUFDSCxNQUFBQSxTQUFTLEVBQUd4QyxNQUFNLENBQUM0QztBQUFwQixLQUF0RCxDQUFyQjtBQUNBLFVBQU1DLFFBQVEsR0FBRztBQUNiLGdCQUFXLFVBREU7QUFFYixlQUFVVixLQUZHO0FBR2Isc0JBQWlCTztBQUhKLEtBQWpCO0FBS0E5QixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCYSxJQUFoQixDQUFxQmMsUUFBckI7QUFDSCxHQVRELE1BU087QUFDSGpDLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JhLElBQWhCLENBQXFCLHVDQUFyQjtBQUNIO0FBQ0oiLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RzXFxEZW1vUHJvamVjdHNcXEFzc2Vzc21lbnRfMV8xXFxzZXJ2aWNlIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi4vY29uZmlnLmpzb24nKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vY29uZmlnL2RiJyk7XHJcbmNvbnN0IFVzZXJNb2RlbCA9IGRiLlVzZXI7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHJlZ2lzdGVyLFxyXG4gICAgbG9naW5cclxufTtcclxuXHJcbi8vcmVnaXN0ZXIgdXNlclxyXG5hc3luYyBmdW5jdGlvbiByZWdpc3RlcihyZXEsIHJlcykge1xyXG4gICAgdmFyIHVzZXJQYXJhbSA9IHJlcS5ib2R5O1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKHVzZXJQYXJhbSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdSZXF1ZXN0IEJvZHkgaXMgbWlzc2luZyEhIScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHZhbGlkYXRlXHJcbiAgICBpZiAoYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogdXNlclBhcmFtLnVzZXJuYW1lIH0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBVc2VybmFtZSAke3VzZXJQYXJhbS51c2VybmFtZX0gaXMgYWxyZWFkeSB0YWtlbmApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlck1vZGVsKHVzZXJQYXJhbSk7XHJcblxyXG4gICAgLy8gaGFzaCBwYXNzd29yZFxyXG4gICAgaWYgKHVzZXJQYXJhbS5wYXNzd29yZCkge1xyXG4gICAgICAgIHVzZXIuaGFzaF9wYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyh1c2VyUGFyYW0ucGFzc3dvcmQsIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzYXZlIHVzZXJcclxuICAgIGF3YWl0IHVzZXIuc2F2ZSgpXHJcbiAgICAudGhlbigoZG9jKSA9PiB7XHJcbiAgICAgICAgaWYgKCFkb2MgfHwgZG9jLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZG9jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wibWVzc2FnZVwiIDogXCJVc2VyIFJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5ISEhXCIsIFwiZGF0YVwiIDogZG9jfSk7XHJcbiAgICB9XHJcbiAgICApXHJcbiAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG4vLyBsb2dpblxyXG5hc3luYyBmdW5jdGlvbiBsb2dpbihyZXEsIHJlcykge1xyXG4gICAgY29uc3QgcG9zdERhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAvL3ZhbGlkYXRlIGlucHV0c1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKHBvc3REYXRhKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1JlcXVlc3QgQm9keSBpcyBtaXNzaW5nISEhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoIXBvc3REYXRhLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcclxuICAgICAgICAgIGVycm9yczoge1xyXG4gICAgICAgICAgICB1c2VybmFtZTogJ2lzIHJlcXVpcmVkJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKCFwb3N0RGF0YS5wYXNzd29yZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7XHJcbiAgICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdpcyByZXF1aXJlZCcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgLy9nZXQgdXNlclxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcm5hbWU6IHBvc3REYXRhLnVzZXJuYW1lIH0pO1xyXG5cclxuICAgIC8vYXV0aGVudGljYXRlIHVzZXJcclxuICAgIGlmICh1c2VyICYmIGJjcnlwdC5jb21wYXJlU3luYyhwb3N0RGF0YS5wYXNzd29yZCwgdXNlci5oYXNoX3Bhc3N3b3JkKSkge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBzdWI6IHVzZXIuaWQgfSwgY29uZmlnLnNlY3JldCwge2V4cGlyZXNJbiA6IGNvbmZpZy50b2tlbkxpZmV9KTtcclxuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBqd3Quc2lnbih7IHN1YjogdXNlci5pZCB9LCBjb25maWcucmVmcmVzaFRva2VuU2VjcmV0LCB7ZXhwaXJlc0luIDogY29uZmlnLnJlZnJlc2hUb2tlbkxpZmV9KTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgXCJzdGF0dXNcIiA6IFwiTG9nZ2VkSW5cIixcclxuICAgICAgICAgICAgXCJ0b2tlblwiIDogdG9rZW4sXHJcbiAgICAgICAgICAgIFwicmVmcmVzaFRva2VuXCIgOiByZWZyZXNoVG9rZW5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzcG9uc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihcIlVzZXJOYW1lIG9yIFBhc3N3b3JkIGlzIGluY29ycmVjdCEhISFcIik7XHJcbiAgICB9XHJcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.service.js"
      ],
      "names": [
        "config",
        "require",
        "jwt",
        "bcrypt",
        "db",
        "UserModel",
        "User",
        "module",
        "exports",
        "register",
        "login",
        "req",
        "res",
        "userParam",
        "body",
        "Object",
        "keys",
        "length",
        "status",
        "send",
        "findOne",
        "username",
        "user",
        "password",
        "hash_password",
        "hashSync",
        "save",
        "then",
        "doc",
        "catch",
        "err",
        "json",
        "postData",
        "errors",
        "compareSync",
        "token",
        "sign",
        "sub",
        "id",
        "secret",
        "expiresIn",
        "tokenLife",
        "refreshToken",
        "refreshTokenSecret",
        "refreshTokenLife",
        "response"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
      "sourcesContent": [
        "const config = require('../config.json');\r\nconst jwt = require('jsonwebtoken');\r\nconst bcrypt = require('bcryptjs');\r\nconst db = require('../config/db');\r\nconst UserModel = db.User;\r\n\r\nmodule.exports = {\r\n    register,\r\n    login\r\n};\r\n\r\n//register user\r\nasync function register(req, res) {\r\n    var userParam = req.body;\r\n    if (Object.keys(userParam).length === 0) {\r\n        return res.status(400).send('Request Body is missing!!!');\r\n    }\r\n\r\n    // validate\r\n    if (await UserModel.findOne({ username: userParam.username })) {\r\n        return res.status(400).send(`Username ${userParam.username} is already taken`);\r\n    }\r\n\r\n    const user = new UserModel(userParam);\r\n\r\n    // hash password\r\n    if (userParam.password) {\r\n        user.hash_password = bcrypt.hashSync(userParam.password, 10);\r\n    }\r\n\r\n    // save user\r\n    await user.save()\r\n    .then((doc) => {\r\n        if (!doc || doc.length === 0) {\r\n            return res.status(500).send(doc);\r\n        }\r\n        res.status(201).send({\"message\" : \"User Registered successfully!!!\", \"data\" : doc});\r\n    }\r\n    )\r\n    .catch(err => {\r\n        res.status(500).json(err);\r\n    });\r\n}\r\n\r\n\r\n// login\r\nasync function login(req, res) {\r\n    const postData = req.body;\r\n\r\n    //validate inputs\r\n    if (Object.keys(postData).length === 0) {\r\n        return res.status(400).send('Request Body is missing!!!');\r\n    }\r\n\r\n    if(!postData.username) {\r\n        return res.status(422).json({\r\n          errors: {\r\n            username: 'is required',\r\n          },\r\n        });\r\n      }\r\n\r\n      if(!postData.password) {\r\n        return res.status(422).json({\r\n          errors: {\r\n            password: 'is required',\r\n          },\r\n        });\r\n      }\r\n\r\n    //get user\r\n    const user = await UserModel.findOne({ username: postData.username });\r\n\r\n    //authenticate user\r\n    if (user && bcrypt.compareSync(postData.password, user.hash_password)) {\r\n        const token = jwt.sign({ sub: user.id }, config.secret, {expiresIn : config.tokenLife});\r\n        const refreshToken = jwt.sign({ sub: user.id }, config.refreshTokenSecret, {expiresIn : config.refreshTokenLife});\r\n        const response = {\r\n            \"status\" : \"LoggedIn\",\r\n            \"token\" : token,\r\n            \"refreshToken\" : refreshToken\r\n        }\r\n        res.status(200).json(response);\r\n    } else {\r\n        res.status(500).json(\"UserName or Password is incorrect!!!!\");\r\n    }\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1550748453339
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\config\\\\tokenChecker.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config\\tokenChecker.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config\\tokenChecker.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config\\tokenChecker.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config",
        "sourceFileName": "tokenChecker.js"
      }
    },
    "ast": null,
    "code": "const jwt = require('jsonwebtoken');\n\nconst config = require('../config.json');\n\nmodule.exports = (req, res, next) => {\n  const token = req.body.token || req.query.token || req.headers['x-access-token']; //decode token\n\n  if (token) {\n    //verifies secrets and checks exp\n    jwt.verify(token, config.secret, function (err, decoded) {\n      if (err) {\n        return res.status(401).json({\n          \"error\": true,\n          \"message\": \"Unautorized access!!\"\n        });\n      }\n\n      req.decoded = decoded;\n      next();\n    });\n  } else {\n    //there is no token\n    //return an error\n    return res.status(403).send({\n      \"error\": true,\n      \"message\": \"no token provided\"\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRva2VuQ2hlY2tlci5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImJvZHkiLCJxdWVyeSIsImhlYWRlcnMiLCJ2ZXJpZnkiLCJzZWNyZXQiLCJlcnIiLCJkZWNvZGVkIiwic3RhdHVzIiwianNvbiIsInNlbmQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsZ0JBQUQsQ0FBdEI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNqQyxRQUFNQyxLQUFLLEdBQUdILEdBQUcsQ0FBQ0ksSUFBSixDQUFTRCxLQUFULElBQWtCSCxHQUFHLENBQUNLLEtBQUosQ0FBVUYsS0FBNUIsSUFBcUNILEdBQUcsQ0FBQ00sT0FBSixDQUFZLGdCQUFaLENBQW5ELENBRGlDLENBR2pDOztBQUNBLE1BQUdILEtBQUgsRUFBVTtBQUNOO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXSixLQUFYLEVBQWtCTixNQUFNLENBQUNXLE1BQXpCLEVBQWlDLFVBQVNDLEdBQVQsRUFBY0MsT0FBZCxFQUF1QjtBQUNwRCxVQUFHRCxHQUFILEVBQVE7QUFDSixlQUFPUixHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDLG1CQUFVLElBQVg7QUFBaUIscUJBQVc7QUFBNUIsU0FBckIsQ0FBUDtBQUNIOztBQUNEWixNQUFBQSxHQUFHLENBQUNVLE9BQUosR0FBY0EsT0FBZDtBQUNBUixNQUFBQSxJQUFJO0FBQ1AsS0FORDtBQU9ILEdBVEQsTUFTTztBQUNIO0FBQ0E7QUFDQSxXQUFPRCxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQjtBQUN4QixlQUFTLElBRGU7QUFFeEIsaUJBQVc7QUFGYSxLQUFyQixDQUFQO0FBSUg7QUFDSixDQXJCRCIsInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdHNcXERlbW9Qcm9qZWN0c1xcQXNzZXNzbWVudF8xXzFcXGNvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcuanNvbicpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmJvZHkudG9rZW4gfHwgcmVxLnF1ZXJ5LnRva2VuIHx8IHJlcS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddXHJcblxyXG4gICAgLy9kZWNvZGUgdG9rZW5cclxuICAgIGlmKHRva2VuKSB7XHJcbiAgICAgICAgLy92ZXJpZmllcyBzZWNyZXRzIGFuZCBjaGVja3MgZXhwXHJcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgY29uZmlnLnNlY3JldCwgZnVuY3Rpb24oZXJyLCBkZWNvZGVkKSB7XHJcbiAgICAgICAgICAgIGlmKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcImVycm9yXCIgOiB0cnVlLCBcIm1lc3NhZ2VcIjogXCJVbmF1dG9yaXplZCBhY2Nlc3MhIVwifSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXEuZGVjb2RlZCA9IGRlY29kZWQ7XHJcbiAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy90aGVyZSBpcyBubyB0b2tlblxyXG4gICAgICAgIC8vcmV0dXJuIGFuIGVycm9yXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgXCJlcnJvclwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcIm1lc3NhZ2VcIjogXCJubyB0b2tlbiBwcm92aWRlZFwiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "tokenChecker.js"
      ],
      "names": [
        "jwt",
        "require",
        "config",
        "module",
        "exports",
        "req",
        "res",
        "next",
        "token",
        "body",
        "query",
        "headers",
        "verify",
        "secret",
        "err",
        "decoded",
        "status",
        "json",
        "send"
      ],
      "mappings": "AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,gBAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,IAAJ,CAASD,KAAT,IAAkBH,GAAG,CAACK,KAAJ,CAAUF,KAA5B,IAAqCH,GAAG,CAACM,OAAJ,CAAY,gBAAZ,CAAnD,CADiC,CAGjC;;AACA,MAAGH,KAAH,EAAU;AACN;AACAR,IAAAA,GAAG,CAACY,MAAJ,CAAWJ,KAAX,EAAkBN,MAAM,CAACW,MAAzB,EAAiC,UAASC,GAAT,EAAcC,OAAd,EAAuB;AACpD,UAAGD,GAAH,EAAQ;AACJ,eAAOR,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,mBAAU,IAAX;AAAiB,qBAAW;AAA5B,SAArB,CAAP;AACH;;AACDZ,MAAAA,GAAG,CAACU,OAAJ,GAAcA,OAAd;AACAR,MAAAA,IAAI;AACP,KAND;AAOH,GATD,MASO;AACH;AACA;AACA,WAAOD,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AACxB,eAAS,IADe;AAExB,iBAAW;AAFa,KAArB,CAAP;AAIH;AACJ,CArBD",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\config",
      "sourcesContent": [
        "const jwt = require('jsonwebtoken');\r\nconst config = require('../config.json');\r\n\r\nmodule.exports = (req, res, next) => {\r\n    const token = req.body.token || req.query.token || req.headers['x-access-token']\r\n\r\n    //decode token\r\n    if(token) {\r\n        //verifies secrets and checks exp\r\n        jwt.verify(token, config.secret, function(err, decoded) {\r\n            if(err) {\r\n                return res.status(401).json({\"error\" : true, \"message\": \"Unautorized access!!\"})\r\n            }\r\n            req.decoded = decoded;\r\n            next();\r\n        });\r\n    } else {\r\n        //there is no token\r\n        //return an error\r\n        return res.status(403).send({\r\n            \"error\": true,\r\n            \"message\": \"no token provided\"\r\n        })\r\n    }\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1550731847259
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\models\\\\blog.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\blog.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\blog.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\blog.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
        "sourceFileName": "blog.model.js"
      }
    },
    "ast": null,
    "code": "var mongoose = require('mongoose');\n\nvar Schema = mongoose.Schema,\n    ObjectId = Schema.ObjectId;\nlet blogSchema = new Schema({\n  id: ObjectId,\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  blogby: {\n    type: String\n  },\n  blogid: {\n    type: String\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n});\nblogSchema.set('toJSON', {\n  virtuals: true\n});\nmodule.exports = mongoose.model('Blog', blogSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2cubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwiT2JqZWN0SWQiLCJibG9nU2NoZW1hIiwiaWQiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJjb250ZW50IiwiYmxvZ2J5IiwiYmxvZ2lkIiwiZGF0ZSIsIkRhdGUiLCJkZWZhdWx0Iiwibm93Iiwic2V0IiwidmlydHVhbHMiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXRCO0FBQUEsSUFBOEJDLFFBQVEsR0FBR0QsTUFBTSxDQUFDQyxRQUFoRDtBQUVBLElBQUlDLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQ2I7QUFDSUcsRUFBQUEsRUFBRSxFQUFFRixRQURSO0FBRUlHLEVBQUFBLEtBQUssRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDO0FBQVIsR0FGWDtBQUdJQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUYsSUFBQUEsSUFBSSxFQUFFQztBQUFSLEdBSGI7QUFJSUUsRUFBQUEsTUFBTSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUM7QUFBUixHQUpaO0FBS0lHLEVBQUFBLE1BQU0sRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDO0FBQVIsR0FMWjtBQU1JSSxFQUFBQSxJQUFJLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFTSxJQUFSO0FBQWNDLElBQUFBLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtBQUE1QjtBQU5WLENBRGEsQ0FBakI7QUFXQVgsVUFBVSxDQUFDWSxHQUFYLENBQWUsUUFBZixFQUF5QjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUF6QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixRQUFRLENBQUNvQixLQUFULENBQWUsTUFBZixFQUF1QmhCLFVBQXZCLENBQWpCIiwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0c1xcRGVtb1Byb2plY3RzXFxBc3Nlc3NtZW50XzFfMVxcbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYSwgT2JqZWN0SWQgPSBTY2hlbWEuT2JqZWN0SWQ7XHJcblxyXG5sZXQgYmxvZ1NjaGVtYSA9IG5ldyBTY2hlbWEoXHJcbiAgICB7XHJcbiAgICAgICAgaWQ6IE9iamVjdElkLFxyXG4gICAgICAgIHRpdGxlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgICAgIGNvbnRlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICAgICAgYmxvZ2J5OiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgICAgIGJsb2dpZDogeyB0eXBlOiBTdHJpbmd9LFxyXG4gICAgICAgIGRhdGU6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfVxyXG4gICAgfVxyXG4pO1xyXG5cclxuYmxvZ1NjaGVtYS5zZXQoJ3RvSlNPTicsIHsgdmlydHVhbHM6IHRydWUgfSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdCbG9nJywgYmxvZ1NjaGVtYSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "blog.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "ObjectId",
        "blogSchema",
        "id",
        "title",
        "type",
        "String",
        "content",
        "blogby",
        "blogid",
        "date",
        "Date",
        "default",
        "now",
        "set",
        "virtuals",
        "module",
        "exports",
        "model"
      ],
      "mappings": "AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIC,MAAM,GAAGF,QAAQ,CAACE,MAAtB;AAAA,IAA8BC,QAAQ,GAAGD,MAAM,CAACC,QAAhD;AAEA,IAAIC,UAAU,GAAG,IAAIF,MAAJ,CACb;AACIG,EAAAA,EAAE,EAAEF,QADR;AAEIG,EAAAA,KAAK,EAAE;AAAEC,IAAAA,IAAI,EAAEC;AAAR,GAFX;AAGIC,EAAAA,OAAO,EAAE;AAAEF,IAAAA,IAAI,EAAEC;AAAR,GAHb;AAIIE,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEC;AAAR,GAJZ;AAKIG,EAAAA,MAAM,EAAE;AAAEJ,IAAAA,IAAI,EAAEC;AAAR,GALZ;AAMII,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEM,IAAR;AAAcC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAA5B;AANV,CADa,CAAjB;AAWAX,UAAU,CAACY,GAAX,CAAe,QAAf,EAAyB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAzB;AAEAC,MAAM,CAACC,OAAP,GAAiBnB,QAAQ,CAACoB,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
      "sourcesContent": [
        "var mongoose = require('mongoose');\r\nvar Schema = mongoose.Schema, ObjectId = Schema.ObjectId;\r\n\r\nlet blogSchema = new Schema(\r\n    {\r\n        id: ObjectId,\r\n        title: { type: String },\r\n        content: { type: String },\r\n        blogby: { type: String },\r\n        blogid: { type: String},\r\n        date: { type: Date, default: Date.now }\r\n    }\r\n);\r\n\r\nblogSchema.set('toJSON', { virtuals: true });\r\n\r\nmodule.exports = mongoose.model('Blog', blogSchema);"
      ]
    },
    "sourceType": "module",
    "mtime": 1550748351701
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\controller\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\controller\\\\blog.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\blog.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\blog.controller.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\blog.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
        "sourceFileName": "blog.controller.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst router = express.Router();\n\nconst blogService = require('../service/blog.service');\n\nrouter.use(require('../config/tokenChecker'));\nrouter.post('/createBlog', blogService.newBlog);\nrouter.get('/getAllBlog', blogService.getAllBlog);\nrouter.get('/getBlog/:blogid', blogService.getBlog);\nrouter.put('/updateBlog/:blogid', blogService.updateBlog);\nrouter.delete('/deleteBlog/:blogid', blogService.deleteBlog);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2cuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImJsb2dTZXJ2aWNlIiwidXNlIiwicG9zdCIsIm5ld0Jsb2ciLCJnZXQiLCJnZXRBbGxCbG9nIiwiZ2V0QmxvZyIsInB1dCIsInVwZGF0ZUJsb2ciLCJkZWxldGUiLCJkZWxldGVCbG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztBQUNBLE1BQU1DLFdBQVcsR0FBR0gsT0FBTyxDQUFDLHlCQUFELENBQTNCOztBQUlBQyxNQUFNLENBQUNHLEdBQVAsQ0FBV0osT0FBTyxDQUFDLHdCQUFELENBQWxCO0FBQ0FDLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkJGLFdBQVcsQ0FBQ0csT0FBdkM7QUFDQUwsTUFBTSxDQUFDTSxHQUFQLENBQVcsYUFBWCxFQUEwQkosV0FBVyxDQUFDSyxVQUF0QztBQUNBUCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxrQkFBWCxFQUErQkosV0FBVyxDQUFDTSxPQUEzQztBQUNBUixNQUFNLENBQUNTLEdBQVAsQ0FBVyxxQkFBWCxFQUFrQ1AsV0FBVyxDQUFDUSxVQUE5QztBQUNBVixNQUFNLENBQUNXLE1BQVAsQ0FBYyxxQkFBZCxFQUFxQ1QsV0FBVyxDQUFDVSxVQUFqRDtBQUdBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJkLE1BQWpCIiwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0c1xcRGVtb1Byb2plY3RzXFxBc3Nlc3NtZW50XzFfMVxcY29udHJvbGxlciIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGJsb2dTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZS9ibG9nLnNlcnZpY2UnKTtcclxuXHJcblxyXG5cclxucm91dGVyLnVzZShyZXF1aXJlKCcuLi9jb25maWcvdG9rZW5DaGVja2VyJykpO1xyXG5yb3V0ZXIucG9zdCgnL2NyZWF0ZUJsb2cnLCBibG9nU2VydmljZS5uZXdCbG9nKTtcclxucm91dGVyLmdldCgnL2dldEFsbEJsb2cnLCBibG9nU2VydmljZS5nZXRBbGxCbG9nKTtcclxucm91dGVyLmdldCgnL2dldEJsb2cvOmJsb2dpZCcsIGJsb2dTZXJ2aWNlLmdldEJsb2cpO1xyXG5yb3V0ZXIucHV0KCcvdXBkYXRlQmxvZy86YmxvZ2lkJywgYmxvZ1NlcnZpY2UudXBkYXRlQmxvZyk7XHJcbnJvdXRlci5kZWxldGUoJy9kZWxldGVCbG9nLzpibG9naWQnLCBibG9nU2VydmljZS5kZWxldGVCbG9nKTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "blog.controller.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "blogService",
        "use",
        "post",
        "newBlog",
        "get",
        "getAllBlog",
        "getBlog",
        "put",
        "updateBlog",
        "delete",
        "deleteBlog",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAMC,WAAW,GAAGH,OAAO,CAAC,yBAAD,CAA3B;;AAIAC,MAAM,CAACG,GAAP,CAAWJ,OAAO,CAAC,wBAAD,CAAlB;AACAC,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2BF,WAAW,CAACG,OAAvC;AACAL,MAAM,CAACM,GAAP,CAAW,aAAX,EAA0BJ,WAAW,CAACK,UAAtC;AACAP,MAAM,CAACM,GAAP,CAAW,kBAAX,EAA+BJ,WAAW,CAACM,OAA3C;AACAR,MAAM,CAACS,GAAP,CAAW,qBAAX,EAAkCP,WAAW,CAACQ,UAA9C;AACAV,MAAM,CAACW,MAAP,CAAc,qBAAd,EAAqCT,WAAW,CAACU,UAAjD;AAGAC,MAAM,CAACC,OAAP,GAAiBd,MAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
      "sourcesContent": [
        "const express = require('express');\r\nconst router = express.Router();\r\nconst blogService = require('../service/blog.service');\r\n\r\n\r\n\r\nrouter.use(require('../config/tokenChecker'));\r\nrouter.post('/createBlog', blogService.newBlog);\r\nrouter.get('/getAllBlog', blogService.getAllBlog);\r\nrouter.get('/getBlog/:blogid', blogService.getBlog);\r\nrouter.put('/updateBlog/:blogid', blogService.updateBlog);\r\nrouter.delete('/deleteBlog/:blogid', blogService.deleteBlog);\r\n\r\n\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "module",
    "mtime": 1550737965845
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\service\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\service\\\\blog.service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\blog.service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\blog.service.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\blog.service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
        "sourceFileName": "blog.service.js"
      }
    },
    "ast": null,
    "code": "const config = require('../config.json');\n\nconst db = require('../config/db');\n\nconst BlogModel = db.Blog;\nmodule.exports = {\n  newBlog,\n  getAllBlog,\n  getBlog,\n  updateBlog,\n  deleteBlog\n}; //create new blog (POST)\n\nasync function newBlog(req, res) {\n  //validate\n  if (Object.keys(req.body).length === 0) {\n    return res.status(400).send('Request Body is missing!!!');\n  }\n\n  if (!req.body.title) {\n    return res.status(422).json({\n      errors: {\n        title: 'is required'\n      }\n    });\n  }\n\n  if (!req.body.blogby) {\n    return res.status(422).json({\n      errors: {\n        blogby: 'is required'\n      }\n    });\n  }\n\n  if (!req.body.content) {\n    return res.status(422).json({\n      errors: {\n        content: 'is required'\n      }\n    });\n  } //save blog to db\n\n\n  let model = new BlogModel(req.body);\n  model.save().then(doc => {\n    if (!doc || doc.length === 0) {\n      return res.status(500).send(doc);\n    }\n\n    res.status(201).send({\n      \"message\": \"Blog posted successfully!!\",\n      \"blog\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n} // GET all blogs\n\n\nasync function getAllBlog(req, res) {\n  BlogModel.find().then(doc => {\n    res.status(201).send(doc);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n} // GET blog by blogId\n\n\nasync function getBlog(req, res) {\n  BlogModel.findOne({\n    blogid: req.params.blogid\n  }).then(doc => {\n    console.log(doc);\n    res.status(201).send(doc);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n} //update blog (PUT)\n\n\nasync function updateBlog(req, res) {\n  //validate\n  if (Object.keys(req.body).length === 0) {\n    return res.status(400).send('Request Body is missing!!!');\n  }\n\n  if (!req.body.title) {\n    return res.status(422).json({\n      errors: {\n        title: 'is required'\n      }\n    });\n  }\n\n  if (!req.body.blogby) {\n    return res.status(422).json({\n      errors: {\n        blogby: 'is required'\n      }\n    });\n  }\n\n  if (!req.body.content) {\n    return res.status(422).json({\n      errors: {\n        content: 'is required'\n      }\n    });\n  }\n\n  BlogModel.findOneAndUpdate({\n    blogid: req.params.blogid\n  }, req.body, {\n    new: true\n  }).then(doc => {\n    if (!doc || doc.length === 0) {\n      return res.status(500).send(doc);\n    }\n\n    res.status(201).send({\n      \"message\": \"Blog updated successfully!!\",\n      \"blog\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n} //DELETE  blog  \n\n\nasync function deleteBlog(req, res) {\n  BlogModel.findOneAndDelete({\n    blogid: req.params.blogid\n  }).then(doc => {\n    if (Object.keys(doc).length === 0) {\n      res.status(400).send('Blog with this id does not exist!!!');\n    } else {\n      res.status(201).send({\n        \"message\": \"Blog deleted successfully!!\",\n        \"blog\": doc\n      });\n    }\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2cuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJyZXF1aXJlIiwiZGIiLCJCbG9nTW9kZWwiLCJCbG9nIiwibW9kdWxlIiwiZXhwb3J0cyIsIm5ld0Jsb2ciLCJnZXRBbGxCbG9nIiwiZ2V0QmxvZyIsInVwZGF0ZUJsb2ciLCJkZWxldGVCbG9nIiwicmVxIiwicmVzIiwiT2JqZWN0Iiwia2V5cyIsImJvZHkiLCJsZW5ndGgiLCJzdGF0dXMiLCJzZW5kIiwidGl0bGUiLCJqc29uIiwiZXJyb3JzIiwiYmxvZ2J5IiwiY29udGVudCIsIm1vZGVsIiwic2F2ZSIsInRoZW4iLCJkb2MiLCJjYXRjaCIsImVyciIsImZpbmQiLCJmaW5kT25lIiwiYmxvZ2lkIiwicGFyYW1zIiwiY29uc29sZSIsImxvZyIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJmaW5kT25lQW5kRGVsZXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQWxCOztBQUNBLE1BQU1FLFNBQVMsR0FBR0QsRUFBRSxDQUFDRSxJQUFyQjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsT0FEYTtBQUViQyxFQUFBQSxVQUZhO0FBR2JDLEVBQUFBLE9BSGE7QUFJYkMsRUFBQUEsVUFKYTtBQUtiQyxFQUFBQTtBQUxhLENBQWpCLEMsQ0FTQTs7QUFDQSxlQUFlSixPQUFmLENBQXVCSyxHQUF2QixFQUE0QkMsR0FBNUIsRUFBaUM7QUFDN0I7QUFDQSxNQUFJQyxNQUFNLENBQUNDLElBQVAsQ0FBWUgsR0FBRyxDQUFDSSxJQUFoQixFQUFzQkMsTUFBdEIsS0FBaUMsQ0FBckMsRUFBd0M7QUFDcEMsV0FBT0osR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsNEJBQXJCLENBQVA7QUFDSDs7QUFFRCxNQUFJ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MVxcc2VydmljZSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZy5qc29uJyk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vY29uZmlnL2RiJyk7XHJcbmNvbnN0IEJsb2dNb2RlbCA9IGRiLkJsb2c7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIG5ld0Jsb2csXHJcbiAgICBnZXRBbGxCbG9nLFxyXG4gICAgZ2V0QmxvZyxcclxuICAgIHVwZGF0ZUJsb2csXHJcbiAgICBkZWxldGVCbG9nXHJcbn07XHJcblxyXG5cclxuLy9jcmVhdGUgbmV3IGJsb2cgKFBPU1QpXHJcbmFzeW5jIGZ1bmN0aW9uIG5ld0Jsb2cocmVxLCByZXMpIHtcclxuICAgIC8vdmFsaWRhdGVcclxuICAgIGlmIChPYmplY3Qua2V5cyhyZXEuYm9keSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdSZXF1ZXN0IEJvZHkgaXMgbWlzc2luZyEhIScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVxLmJvZHkudGl0bGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnaXMgcmVxdWlyZWQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVxLmJvZHkuYmxvZ2J5KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcclxuICAgICAgICAgICAgZXJyb3JzOiB7XHJcbiAgICAgICAgICAgICAgICBibG9nYnk6ICdpcyByZXF1aXJlZCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXEuYm9keS5jb250ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcclxuICAgICAgICAgICAgZXJyb3JzOiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnaXMgcmVxdWlyZWQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy9zYXZlIGJsb2cgdG8gZGJcclxuICAgIGxldCBtb2RlbCA9IG5ldyBCbG9nTW9kZWwocmVxLmJvZHkpO1xyXG4gICAgbW9kZWwuc2F2ZSgpXHJcbiAgICAgICAgLnRoZW4oKGRvYykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRvYyB8fCBkb2MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZG9jKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IFwibWVzc2FnZVwiIDogXCJCbG9nIHBvc3RlZCBzdWNjZXNzZnVsbHkhIVwiLCBcImJsb2dcIiA6IGRvY30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcblxyXG4vLyBHRVQgYWxsIGJsb2dzXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbEJsb2cocmVxLCByZXMpIHtcclxuICAgIEJsb2dNb2RlbC5maW5kKClcclxuICAgICAgICAudGhlbigoZG9jKSA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKGRvYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vLyBHRVQgYmxvZyBieSBibG9nSWRcclxuYXN5bmMgZnVuY3Rpb24gZ2V0QmxvZyhyZXEsIHJlcykge1xyXG4gICAgQmxvZ01vZGVsLmZpbmRPbmUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBibG9naWQ6IHJlcS5wYXJhbXMuYmxvZ2lkXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgICAgIC50aGVuKChkb2MpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZG9jKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoZG9jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8vdXBkYXRlIGJsb2cgKFBVVClcclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQmxvZyhyZXEsIHJlcykge1xyXG4gICAgLy92YWxpZGF0ZVxyXG4gICAgaWYgKE9iamVjdC5rZXlzKHJlcS5ib2R5KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1JlcXVlc3QgQm9keSBpcyBtaXNzaW5nISEhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXEuYm9keS50aXRsZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7XHJcbiAgICAgICAgICAgIGVycm9yczoge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdpcyByZXF1aXJlZCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXEuYm9keS5ibG9nYnkpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgICAgIGJsb2dieTogJ2lzIHJlcXVpcmVkJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJlcS5ib2R5LmNvbnRlbnQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICdpcyByZXF1aXJlZCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgQmxvZ01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe1xyXG4gICAgICAgIGJsb2dpZDogcmVxLnBhcmFtcy5ibG9naWRcclxuICAgIH0sIHJlcS5ib2R5LCB7IG5ldzogdHJ1ZSB9KVxyXG4gICAgICAgIC50aGVuKChkb2MpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFkb2MgfHwgZG9jLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGRvYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBcIm1lc3NhZ2VcIiA6IFwiQmxvZyB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEhXCIsIFwiYmxvZ1wiIDogZG9jfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuXHJcbi8vREVMRVRFICBibG9nICBcclxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlQmxvZyhyZXEsIHJlcykge1xyXG4gICAgQmxvZ01vZGVsLmZpbmRPbmVBbmREZWxldGUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBibG9naWQ6IHJlcS5wYXJhbXMuYmxvZ2lkXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgICAgIC50aGVuKChkb2MpID0+IHtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRvYykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQmxvZyB3aXRoIHRoaXMgaWQgZG9lcyBub3QgZXhpc3QhISEnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBcIm1lc3NhZ2VcIiA6IFwiQmxvZyBkZWxldGVkIHN1Y2Nlc3NmdWxseSEhXCIsIFwiYmxvZ1wiIDogZG9jfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gICAgICAgIH0pO1xyXG59ICAgXHJcblxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "blog.service.js"
      ],
      "names": [
        "config",
        "require",
        "db",
        "BlogModel",
        "Blog",
        "module",
        "exports",
        "newBlog",
        "getAllBlog",
        "getBlog",
        "updateBlog",
        "deleteBlog",
        "req",
        "res",
        "Object",
        "keys",
        "body",
        "length",
        "status",
        "send",
        "title",
        "json",
        "errors",
        "blogby",
        "content",
        "model",
        "save",
        "then",
        "doc",
        "catch",
        "err",
        "find",
        "findOne",
        "blogid",
        "params",
        "console",
        "log",
        "findOneAndUpdate",
        "new",
        "findOneAndDelete"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
      "sourcesContent": [
        "const config = require('../config.json');\r\nconst db = require('../config/db');\r\nconst BlogModel = db.Blog;\r\n\r\nmodule.exports = {\r\n    newBlog,\r\n    getAllBlog,\r\n    getBlog,\r\n    updateBlog,\r\n    deleteBlog\r\n};\r\n\r\n\r\n//create new blog (POST)\r\nasync function newBlog(req, res) {\r\n    //validate\r\n    if (Object.keys(req.body).length === 0) {\r\n        return res.status(400).send('Request Body is missing!!!');\r\n    }\r\n\r\n    if (!req.body.title) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                title: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    if (!req.body.blogby) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                blogby: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    if (!req.body.content) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                content: 'is required',\r\n            },\r\n        });\r\n    }\r\n    //save blog to db\r\n    let model = new BlogModel(req.body);\r\n    model.save()\r\n        .then((doc) => {\r\n            if (!doc || doc.length === 0) {\r\n                return res.status(500).send(doc);\r\n            }\r\n            res.status(201).send({ \"message\" : \"Blog posted successfully!!\", \"blog\" : doc});\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}\r\n\r\n\r\n// GET all blogs\r\nasync function getAllBlog(req, res) {\r\n    BlogModel.find()\r\n        .then((doc) => {\r\n            res.status(201).send(doc);\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}\r\n\r\n\r\n\r\n// GET blog by blogId\r\nasync function getBlog(req, res) {\r\n    BlogModel.findOne(\r\n        {\r\n            blogid: req.params.blogid\r\n        }\r\n    )\r\n        .then((doc) => {\r\n            console.log(doc);\r\n            res.status(201).send(doc);\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}\r\n\r\n\r\n\r\n//update blog (PUT)\r\nasync function updateBlog(req, res) {\r\n    //validate\r\n    if (Object.keys(req.body).length === 0) {\r\n        return res.status(400).send('Request Body is missing!!!');\r\n    }\r\n\r\n    if (!req.body.title) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                title: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    if (!req.body.blogby) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                blogby: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    if (!req.body.content) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                content: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    BlogModel.findOneAndUpdate({\r\n        blogid: req.params.blogid\r\n    }, req.body, { new: true })\r\n        .then((doc) => {\r\n            if (!doc || doc.length === 0) {\r\n                return res.status(500).send(doc);\r\n            }\r\n            res.status(201).send({ \"message\" : \"Blog updated successfully!!\", \"blog\" : doc});\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}\r\n\r\n\r\n//DELETE  blog  \r\nasync function deleteBlog(req, res) {\r\n    BlogModel.findOneAndDelete(\r\n        {\r\n            blogid: req.params.blogid\r\n        }\r\n    )\r\n        .then((doc) => {\r\n            if (Object.keys(doc).length === 0) {\r\n                res.status(400).send('Blog with this id does not exist!!!');\r\n            } else {\r\n            res.status(201).send({ \"message\" : \"Blog deleted successfully!!\", \"blog\" : doc});\r\n            }\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}   \r\n\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1550750152974
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\models\\\\comments.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\comments.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\comments.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models\\comments.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
        "sourceFileName": "comments.model.js"
      }
    },
    "ast": null,
    "code": "var mongoose = require('mongoose');\n\nvar Schema = mongoose.Schema,\n    ObjectId = Schema.ObjectId;\nlet commentsSchema = new Schema({\n  id: ObjectId,\n  postid: {\n    type: String\n  },\n  commentid: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  comment: {\n    type: String\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  },\n  like: {\n    type: Number,\n    default: 0\n  },\n  dislike: {\n    type: Number,\n    default: 0\n  }\n});\ncommentsSchema.set('toJSON', {\n  virtuals: true\n});\nmodule.exports = mongoose.model('Comments', commentsSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIk9iamVjdElkIiwiY29tbWVudHNTY2hlbWEiLCJpZCIsInBvc3RpZCIsInR5cGUiLCJTdHJpbmciLCJjb21tZW50aWQiLCJuYW1lIiwiY29tbWVudCIsImRhdGUiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsImxpa2UiLCJOdW1iZXIiLCJkaXNsaWtlIiwic2V0IiwidmlydHVhbHMiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXRCO0FBQUEsSUFBOEJDLFFBQVEsR0FBR0QsTUFBTSxDQUFDQyxRQUFoRDtBQUdBLElBQUlDLGNBQWMsR0FBRyxJQUFJRixNQUFKLENBQ2pCO0FBQ0lHLEVBQUFBLEVBQUUsRUFBRUYsUUFEUjtBQUVJRyxFQUFBQSxNQUFNLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQztBQUFSLEdBRlo7QUFHSUMsRUFBQUEsU0FBUyxFQUFFO0FBQUNGLElBQUFBLElBQUksRUFBRUM7QUFBUCxHQUhmO0FBSUlFLEVBQUFBLElBQUksRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVDO0FBQVIsR0FKVjtBQUtJRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUosSUFBQUEsSUFBSSxFQUFFQztBQUFSLEdBTGI7QUFNSUksRUFBQUEsSUFBSSxFQUFFO0FBQUVMLElBQUFBLElBQUksRUFBRU0sSUFBUjtBQUFjQyxJQUFBQSxPQUFPLEVBQUVELElBQUksQ0FBQ0U7QUFBNUIsR0FOVjtBQU9JQyxFQUFBQSxJQUFJLEVBQUU7QUFBQ1QsSUFBQUEsSUFBSSxFQUFFVSxNQUFQO0FBQWVILElBQUFBLE9BQU8sRUFBQztBQUF2QixHQVBWO0FBUUlJLEVBQUFBLE9BQU8sRUFBRTtBQUFDWCxJQUFBQSxJQUFJLEVBQUVVLE1BQVA7QUFBZUgsSUFBQUEsT0FBTyxFQUFDO0FBQXZCO0FBUmIsQ0FEaUIsQ0FBckI7QUFhQVYsY0FBYyxDQUFDZSxHQUFmLENBQW1CLFFBQW5CLEVBQTZCO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQTdCO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRCLFFBQVEsQ0FBQ3VCLEtBQVQsQ0FBZSxVQUFmLEVBQTJCbkIsY0FBM0IsQ0FBakIiLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RzXFxEZW1vUHJvamVjdHNcXEFzc2Vzc21lbnRfMV8xXFxtb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hLCBPYmplY3RJZCA9IFNjaGVtYS5PYmplY3RJZDtcclxuXHJcblxyXG5sZXQgY29tbWVudHNTY2hlbWEgPSBuZXcgU2NoZW1hKFxyXG4gICAge1xyXG4gICAgICAgIGlkOiBPYmplY3RJZCxcclxuICAgICAgICBwb3N0aWQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICAgICAgY29tbWVudGlkOiB7dHlwZTogU3RyaW5nfSxcclxuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgICAgIGNvbW1lbnQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICAgICAgZGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gICAgICAgIGxpa2U6IHt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MH0sXHJcbiAgICAgICAgZGlzbGlrZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDowfVxyXG4gICAgfVxyXG4pO1xyXG5cclxuY29tbWVudHNTY2hlbWEuc2V0KCd0b0pTT04nLCB7IHZpcnR1YWxzOiB0cnVlIH0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnQ29tbWVudHMnLCBjb21tZW50c1NjaGVtYSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "comments.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "ObjectId",
        "commentsSchema",
        "id",
        "postid",
        "type",
        "String",
        "commentid",
        "name",
        "comment",
        "date",
        "Date",
        "default",
        "now",
        "like",
        "Number",
        "dislike",
        "set",
        "virtuals",
        "module",
        "exports",
        "model"
      ],
      "mappings": "AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIC,MAAM,GAAGF,QAAQ,CAACE,MAAtB;AAAA,IAA8BC,QAAQ,GAAGD,MAAM,CAACC,QAAhD;AAGA,IAAIC,cAAc,GAAG,IAAIF,MAAJ,CACjB;AACIG,EAAAA,EAAE,EAAEF,QADR;AAEIG,EAAAA,MAAM,EAAE;AAAEC,IAAAA,IAAI,EAAEC;AAAR,GAFZ;AAGIC,EAAAA,SAAS,EAAE;AAACF,IAAAA,IAAI,EAAEC;AAAP,GAHf;AAIIE,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC;AAAR,GAJV;AAKIG,EAAAA,OAAO,EAAE;AAAEJ,IAAAA,IAAI,EAAEC;AAAR,GALb;AAMII,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEM,IAAR;AAAcC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAA5B,GANV;AAOIC,EAAAA,IAAI,EAAE;AAACT,IAAAA,IAAI,EAAEU,MAAP;AAAeH,IAAAA,OAAO,EAAC;AAAvB,GAPV;AAQII,EAAAA,OAAO,EAAE;AAACX,IAAAA,IAAI,EAAEU,MAAP;AAAeH,IAAAA,OAAO,EAAC;AAAvB;AARb,CADiB,CAArB;AAaAV,cAAc,CAACe,GAAf,CAAmB,QAAnB,EAA6B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA7B;AAEAC,MAAM,CAACC,OAAP,GAAiBtB,QAAQ,CAACuB,KAAT,CAAe,UAAf,EAA2BnB,cAA3B,CAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\models",
      "sourcesContent": [
        "var mongoose = require('mongoose');\r\nvar Schema = mongoose.Schema, ObjectId = Schema.ObjectId;\r\n\r\n\r\nlet commentsSchema = new Schema(\r\n    {\r\n        id: ObjectId,\r\n        postid: { type: String },\r\n        commentid: {type: String},\r\n        name: { type: String },\r\n        comment: { type: String },\r\n        date: { type: Date, default: Date.now },\r\n        like: {type: Number, default:0},\r\n        dislike: {type: Number, default:0}\r\n    }\r\n);\r\n\r\ncommentsSchema.set('toJSON', { virtuals: true });\r\n\r\nmodule.exports = mongoose.model('Comments', commentsSchema);\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1550746449638
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\controller\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\controller\\\\comments.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\comments.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\comments.controller.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller\\comments.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
        "sourceFileName": "comments.controller.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst router = express.Router();\n\nconst commentsService = require('../service/comments.service');\n\nrouter.use(require('../config/tokenChecker'));\nrouter.post('/postComment/:blogid', commentsService.postComment);\nrouter.get('/getAllComments/:blogid', commentsService.getAllComments);\nrouter.get('/getComment/:blogid/:commentid', commentsService.getComment);\nrouter.put('/updateComment/:blogid/:commentid', commentsService.updateComment);\nrouter.delete('/deleteComment/:blogid/:commentid', commentsService.deleteComment);\nrouter.post('/likeComment/:blogid/:commentid', commentsService.likeComment);\nrouter.post('/dislikeComment/:blogid/:commentid', commentsService.dislikeComment);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJjb21tZW50c1NlcnZpY2UiLCJ1c2UiLCJwb3N0IiwicG9zdENvbW1lbnQiLCJnZXQiLCJnZXRBbGxDb21tZW50cyIsImdldENvbW1lbnQiLCJwdXQiLCJ1cGRhdGVDb21tZW50IiwiZGVsZXRlIiwiZGVsZXRlQ29tbWVudCIsImxpa2VDb21tZW50IiwiZGlzbGlrZUNvbW1lbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHSCxPQUFPLENBQUMsNkJBQUQsQ0FBL0I7O0FBSUFDLE1BQU0sQ0FBQ0csR0FBUCxDQUFXSixPQUFPLENBQUMsd0JBQUQsQ0FBbEI7QUFDQUMsTUFBTSxDQUFDSSxJQUFQLENBQVksc0JBQVosRUFBb0NGLGVBQWUsQ0FBQ0csV0FBcEQ7QUFDQUwsTUFBTSxDQUFDTSxHQUFQLENBQVcseUJBQVgsRUFBc0NKLGVBQWUsQ0FBQ0ssY0FBdEQ7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsZ0NBQVgsRUFBNkNKLGVBQWUsQ0FBQ00sVUFBN0Q7QUFDQVIsTUFBTSxDQUFDUyxHQUFQLENBQVcsbUNBQVgsRUFBZ0RQLGVBQWUsQ0FBQ1EsYUFBaEU7QUFDQVYsTUFBTSxDQUFDVyxNQUFQLENBQWMsbUNBQWQsRUFBbURULGVBQWUsQ0FBQ1UsYUFBbkU7QUFDQVosTUFBTSxDQUFDSSxJQUFQLENBQVksaUNBQVosRUFBK0NGLGVBQWUsQ0FBQ1csV0FBL0Q7QUFDQWIsTUFBTSxDQUFDSSxJQUFQLENBQVksb0NBQVosRUFBa0RGLGVBQWUsQ0FBQ1ksY0FBbEU7QUFJQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCaEIsTUFBakIiLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RzXFxEZW1vUHJvamVjdHNcXEFzc2Vzc21lbnRfMV8xXFxjb250cm9sbGVyIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgY29tbWVudHNTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZS9jb21tZW50cy5zZXJ2aWNlJyk7XHJcblxyXG5cclxuXHJcbnJvdXRlci51c2UocmVxdWlyZSgnLi4vY29uZmlnL3Rva2VuQ2hlY2tlcicpKTtcclxucm91dGVyLnBvc3QoJy9wb3N0Q29tbWVudC86YmxvZ2lkJywgY29tbWVudHNTZXJ2aWNlLnBvc3RDb21tZW50KTtcclxucm91dGVyLmdldCgnL2dldEFsbENvbW1lbnRzLzpibG9naWQnLCBjb21tZW50c1NlcnZpY2UuZ2V0QWxsQ29tbWVudHMpO1xyXG5yb3V0ZXIuZ2V0KCcvZ2V0Q29tbWVudC86YmxvZ2lkLzpjb21tZW50aWQnLCBjb21tZW50c1NlcnZpY2UuZ2V0Q29tbWVudCk7XHJcbnJvdXRlci5wdXQoJy91cGRhdGVDb21tZW50LzpibG9naWQvOmNvbW1lbnRpZCcsIGNvbW1lbnRzU2VydmljZS51cGRhdGVDb21tZW50KTtcclxucm91dGVyLmRlbGV0ZSgnL2RlbGV0ZUNvbW1lbnQvOmJsb2dpZC86Y29tbWVudGlkJywgY29tbWVudHNTZXJ2aWNlLmRlbGV0ZUNvbW1lbnQpO1xyXG5yb3V0ZXIucG9zdCgnL2xpa2VDb21tZW50LzpibG9naWQvOmNvbW1lbnRpZCcsIGNvbW1lbnRzU2VydmljZS5saWtlQ29tbWVudCk7XHJcbnJvdXRlci5wb3N0KCcvZGlzbGlrZUNvbW1lbnQvOmJsb2dpZC86Y29tbWVudGlkJywgY29tbWVudHNTZXJ2aWNlLmRpc2xpa2VDb21tZW50KTtcclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "comments.controller.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "commentsService",
        "use",
        "post",
        "postComment",
        "get",
        "getAllComments",
        "getComment",
        "put",
        "updateComment",
        "delete",
        "deleteComment",
        "likeComment",
        "dislikeComment",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAMC,eAAe,GAAGH,OAAO,CAAC,6BAAD,CAA/B;;AAIAC,MAAM,CAACG,GAAP,CAAWJ,OAAO,CAAC,wBAAD,CAAlB;AACAC,MAAM,CAACI,IAAP,CAAY,sBAAZ,EAAoCF,eAAe,CAACG,WAApD;AACAL,MAAM,CAACM,GAAP,CAAW,yBAAX,EAAsCJ,eAAe,CAACK,cAAtD;AACAP,MAAM,CAACM,GAAP,CAAW,gCAAX,EAA6CJ,eAAe,CAACM,UAA7D;AACAR,MAAM,CAACS,GAAP,CAAW,mCAAX,EAAgDP,eAAe,CAACQ,aAAhE;AACAV,MAAM,CAACW,MAAP,CAAc,mCAAd,EAAmDT,eAAe,CAACU,aAAnE;AACAZ,MAAM,CAACI,IAAP,CAAY,iCAAZ,EAA+CF,eAAe,CAACW,WAA/D;AACAb,MAAM,CAACI,IAAP,CAAY,oCAAZ,EAAkDF,eAAe,CAACY,cAAlE;AAIAC,MAAM,CAACC,OAAP,GAAiBhB,MAAjB",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\controller",
      "sourcesContent": [
        "const express = require('express');\r\nconst router = express.Router();\r\nconst commentsService = require('../service/comments.service');\r\n\r\n\r\n\r\nrouter.use(require('../config/tokenChecker'));\r\nrouter.post('/postComment/:blogid', commentsService.postComment);\r\nrouter.get('/getAllComments/:blogid', commentsService.getAllComments);\r\nrouter.get('/getComment/:blogid/:commentid', commentsService.getComment);\r\nrouter.put('/updateComment/:blogid/:commentid', commentsService.updateComment);\r\nrouter.delete('/deleteComment/:blogid/:commentid', commentsService.deleteComment);\r\nrouter.post('/likeComment/:blogid/:commentid', commentsService.likeComment);\r\nrouter.post('/dislikeComment/:blogid/:commentid', commentsService.dislikeComment);\r\n\r\n\r\n\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "module",
    "mtime": 1550746503238
  },
  "{\"sourceRoot\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\service\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"filename\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\\\\service\\\\comments.service.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Projects\\\\DemoProjects\\\\Assessment_1_1\",\"plugins\":[],\"presets\":[]}:7.3.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\comments.service.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Projects\\DemoProjects\\Assessment_1_1",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\comments.service.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service\\comments.service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
        "sourceFileName": "comments.service.js"
      }
    },
    "ast": null,
    "code": "const config = require('../config.json');\n\nconst db = require('../config/db');\n\nconst CommentModel = db.Comments;\nmodule.exports = {\n  postComment,\n  getAllComments,\n  getComment,\n  updateComment,\n  deleteComment,\n  likeComment,\n  dislikeComment\n}; //POST comment\n\nasync function postComment(req, res) {\n  //validate\n  if (Object.keys(req.body).length === 0) {\n    return res.status(400).send('Request Body is missing!!!');\n  }\n\n  if (!req.body.name) {\n    return res.status(422).json({\n      errors: {\n        name: 'is required'\n      }\n    });\n  }\n\n  if (!req.body.desc) {\n    return res.status(422).json({\n      errors: {\n        desc: 'is required'\n      }\n    });\n  }\n\n  var id = req.params.blogid; //save comment in db\n\n  CommentModel.create({\n    postid: id,\n    commentid: req.body.commentid,\n    name: req.body.name,\n    comment: req.body.desc\n  }, function (err, data) {\n    if (err) res.send(err);\n    res.send({\n      \"message\": \"success\",\n      \"data\": data\n    });\n  });\n}\n\n; //GET all comments of a blog\n\nasync function getAllComments(req, res) {\n  CommentModel.find({\n    postid: req.params.blogid\n  }, function (err, Comments) {\n    if (err) {\n      res.send(err);\n    }\n\n    res.json(Comments);\n  });\n}\n\n; //GET  comment by Id of a blog\n\nasync function getComment(req, res) {\n  CommentModel.find({\n    postid: req.params.blogid,\n    commentid: req.params.commentid\n  }, function (err, Comments) {\n    if (err) {\n      res.send(err);\n    }\n\n    if (Object.keys(Comments).length !== 0) res.json(Comments);else res.json({\n      \"message\": \"No comment found!!\"\n    });\n  });\n}\n\n; //PUT comment\n\nasync function updateComment(req, res) {\n  //validate\n  if (Object.keys(req.body).length === 0) {\n    return res.status(400).send('Request Body is missing!!!');\n  }\n\n  if (!req.body.name) {\n    return res.status(422).json({\n      errors: {\n        name: 'is required'\n      }\n    });\n  }\n\n  if (!req.body.desc) {\n    return res.status(422).json({\n      errors: {\n        desc: 'is required'\n      }\n    });\n  }\n\n  var id = req.params.blogid; //save comment in db\n\n  const commentData = {\n    name: req.body.name,\n    comment: req.body.desc,\n    date: req.body.date\n  };\n  CommentModel.findOneAndUpdate({\n    postid: id,\n    commentid: req.params.commentid\n  }, commentData, {\n    new: true\n  }).then(doc => {\n    if (!doc || doc.length === 0) {\n      return res.status(500).send(doc);\n    }\n\n    res.status(201).send({\n      \"message\": \"Comment updated successfully!!!\",\n      \"data\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}\n\n; //DELETE  comment  \n\nasync function deleteComment(req, res) {\n  CommentModel.findOneAndDelete({\n    postid: req.params.blogid,\n    commentid: req.params.commentid\n  }).then(doc => {\n    res.status(201).send({\n      \"message\": \"Comment deleted successfully!!!!!\",\n      \"data\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}\n\nasync function likeComment(req, res) {\n  //update like count in db\n  CommentModel.findOneAndUpdate({\n    postid: req.params.blogid,\n    commentid: req.params.commentid\n  }, {\n    $inc: {\n      like: 1\n    }\n  }, {\n    new: true\n  }).then(doc => {\n    if (!doc || doc.length === 0) {\n      return res.status(500).send(doc);\n    }\n\n    res.status(201).send({\n      \"message\": \"You liked this comment!!\",\n      \"data\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}\n\nasync function dislikeComment(req, res) {\n  //update like count in db\n  CommentModel.findOneAndUpdate({\n    postid: req.params.blogid,\n    commentid: req.params.commentid\n  }, {\n    $inc: {\n      dislike: 1\n    }\n  }, {\n    new: true\n  }).then(doc => {\n    if (!doc || doc.length === 0) {\n      return res.status(500).send(doc);\n    }\n\n    res.status(201).send({\n      \"message\": \"You disliked this comment!!\",\n      \"data\": doc\n    });\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiY29uZmlnIiwicmVxdWlyZSIsImRiIiwiQ29tbWVudE1vZGVsIiwiQ29tbWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicG9zdENvbW1lbnQiLCJnZXRBbGxDb21tZW50cyIsImdldENvbW1lbnQiLCJ1cGRhdGVDb21tZW50IiwiZGVsZXRlQ29tbWVudCIsImxpa2VDb21tZW50IiwiZGlzbGlrZUNvbW1lbnQiLCJyZXEiLCJyZXMiLCJPYmplY3QiLCJrZXlzIiwiYm9keSIsImxlbmd0aCIsInN0YXR1cyIsInNlbmQiLCJuYW1lIiwianNvbiIsImVycm9ycyIsImRlc2MiLCJpZCIsInBhcmFtcyIsImJsb2dpZCIsImNyZWF0ZSIsInBvc3RpZCIsImNvbW1lbnRpZCIsImNvbW1lbnQiLCJlcnIiLCJkYXRhIiwiZmluZCIsImNvbW1lbnREYXRhIiwiZGF0ZSIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJ0aGVuIiwiZG9jIiwiY2F0Y2giLCJmaW5kT25lQW5kRGVsZXRlIiwiJGluYyIsImxpa2UiLCJkaXNsaWtlIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQWxCOztBQUNBLE1BQU1FLFlBQVksR0FBR0QsRUFBRSxDQUFDRSxRQUF4QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsV0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLFVBSGE7QUFJYkMsRUFBQUEsYUFKYTtBQUtiQyxFQUFBQSxhQUxhO0FBTWJDLEVBQUFBLFdBTmE7QUFPYkMsRUFBQUE7QUFQYSxDQUFqQixDLENBV0E7O0FBQ0EsZUFBZU4sV0FBZixDQUEyQk8sR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDO0FBQ2pDO0FBQ0EsTUFBSUMsTUFBTSxDQUFDQyxJQUFQLENB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RUUsTUFBQUEsT0FBTyxFQUFFO0FBQVg7QUFBUixHQUhGLEVBRzRCO0FBQUVQLElBQUFBLEdBQUcsRUFBRTtBQUFQLEdBSDVCLEVBSUtDLElBSkwsQ0FJV0MsR0FBRCxJQUFTO0FBQ1gsUUFBSSxDQUFDQSxHQUFELElBQVFBLEdBQUcsQ0FBQ3RCLE1BQUosS0FBZSxDQUEzQixFQUE4QjtBQUMxQixhQUFPSixHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQm9CLEdBQXJCLENBQVA7QUFDSDs7QUFDRDFCLElBQUFBLEdBQUcsQ0FBQ0ssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUUsaUJBQVcsNkJBQWI7QUFBNEMsY0FBUW9CO0FBQXBELEtBQXJCO0FBQ0gsR0FUTCxFQVdLQyxLQVhMLENBV1dULEdBQUcsSUFBSTtBQUNWbEIsSUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkcsSUFBaEIsQ0FBcUJVLEdBQXJCO0FBQ0gsR0FiTDtBQWNIIiwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0c1xcRGVtb1Byb2plY3RzXFxBc3Nlc3NtZW50XzFfMVxcc2VydmljZSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZy5qc29uJyk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vY29uZmlnL2RiJyk7XHJcbmNvbnN0IENvbW1lbnRNb2RlbCA9IGRiLkNvbW1lbnRzO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwb3N0Q29tbWVudCxcclxuICAgIGdldEFsbENvbW1lbnRzLFxyXG4gICAgZ2V0Q29tbWVudCxcclxuICAgIHVwZGF0ZUNvbW1lbnQsXHJcbiAgICBkZWxldGVDb21tZW50LFxyXG4gICAgbGlrZUNvbW1lbnQsXHJcbiAgICBkaXNsaWtlQ29tbWVudFxyXG59O1xyXG5cclxuXHJcbi8vUE9TVCBjb21tZW50XHJcbmFzeW5jIGZ1bmN0aW9uIHBvc3RDb21tZW50KHJlcSwgcmVzKSB7XHJcbiAgICAvL3ZhbGlkYXRlXHJcbiAgICBpZiAoT2JqZWN0LmtleXMocmVxLmJvZHkpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnUmVxdWVzdCBCb2R5IGlzIG1pc3NpbmchISEnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJlcS5ib2R5Lm5hbWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdpcyByZXF1aXJlZCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXEuYm9keS5kZXNjKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcclxuICAgICAgICAgICAgZXJyb3JzOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiAnaXMgcmVxdWlyZWQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuYmxvZ2lkO1xyXG5cclxuICAgIC8vc2F2ZSBjb21tZW50IGluIGRiXHJcbiAgICBDb21tZW50TW9kZWwuY3JlYXRlKHtcclxuICAgICAgICBwb3N0aWQ6IGlkLFxyXG4gICAgICAgIGNvbW1lbnRpZDogcmVxLmJvZHkuY29tbWVudGlkLFxyXG4gICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgICAgY29tbWVudDogcmVxLmJvZHkuZGVzY1xyXG4gICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xyXG4gICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XHJcblxyXG4gICAgICAgIHJlcy5zZW5kKHsgXCJtZXNzYWdlXCI6IFwic3VjY2Vzc1wiLCBcImRhdGFcIjogZGF0YSB9KTtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcbi8vR0VUIGFsbCBjb21tZW50cyBvZiBhIGJsb2dcclxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tbWVudHMocmVxLCByZXMpIHtcclxuICAgIENvbW1lbnRNb2RlbC5maW5kKHsgcG9zdGlkOiByZXEucGFyYW1zLmJsb2dpZCB9LCBmdW5jdGlvbiAoZXJyLCBDb21tZW50cykge1xyXG5cclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuanNvbihDb21tZW50cyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vR0VUICBjb21tZW50IGJ5IElkIG9mIGEgYmxvZ1xyXG5hc3luYyBmdW5jdGlvbiBnZXRDb21tZW50KHJlcSwgcmVzKSB7XHJcbiAgICBDb21tZW50TW9kZWwuZmluZCh7IHBvc3RpZDogcmVxLnBhcmFtcy5ibG9naWQsIGNvbW1lbnRpZDogcmVxLnBhcmFtcy5jb21tZW50aWQgfSwgZnVuY3Rpb24gKGVyciwgQ29tbWVudHMpIHtcclxuXHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICByZXMuc2VuZChlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoQ29tbWVudHMpLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgcmVzLmpzb24oQ29tbWVudHMpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmVzLmpzb24oeyBcIm1lc3NhZ2VcIjogXCJObyBjb21tZW50IGZvdW5kISFcIiB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuLy9QVVQgY29tbWVudFxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDb21tZW50KHJlcSwgcmVzKSB7XHJcbiAgICAvL3ZhbGlkYXRlXHJcbiAgICBpZiAoT2JqZWN0LmtleXMocmVxLmJvZHkpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnUmVxdWVzdCBCb2R5IGlzIG1pc3NpbmchISEnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJlcS5ib2R5Lm5hbWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdpcyByZXF1aXJlZCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXEuYm9keS5kZXNjKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcclxuICAgICAgICAgICAgZXJyb3JzOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiAnaXMgcmVxdWlyZWQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuYmxvZ2lkO1xyXG5cclxuICAgIC8vc2F2ZSBjb21tZW50IGluIGRiXHJcbiAgICBjb25zdCBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxyXG4gICAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmRlc2MsXHJcbiAgICAgICAgZGF0ZTogcmVxLmJvZHkuZGF0ZVxyXG4gICAgfVxyXG5cclxuICAgIENvbW1lbnRNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtcclxuICAgICAgICBwb3N0aWQ6IGlkLFxyXG4gICAgICAgIGNvbW1lbnRpZDogcmVxLnBhcmFtcy5jb21tZW50aWRcclxuICAgIH0sIGNvbW1lbnREYXRhLCB7IG5ldzogdHJ1ZSB9KVxyXG4gICAgICAgIC50aGVuKChkb2MpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFkb2MgfHwgZG9jLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGRvYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBcIm1lc3NhZ2VcIjogXCJDb21tZW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5ISEhXCIsIFwiZGF0YVwiOiBkb2MgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICAgICAgICB9KTtcclxuXHJcbn07XHJcblxyXG5cclxuLy9ERUxFVEUgIGNvbW1lbnQgIFxyXG5hc3luYyBmdW5jdGlvbiBkZWxldGVDb21tZW50KHJlcSwgcmVzKSB7XHJcbiAgICBDb21tZW50TW9kZWwuZmluZE9uZUFuZERlbGV0ZShcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBvc3RpZDogcmVxLnBhcmFtcy5ibG9naWQsXHJcbiAgICAgICAgICAgIGNvbW1lbnRpZDogcmVxLnBhcmFtcy5jb21tZW50aWRcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICAgICAgLnRoZW4oKGRvYykgPT4ge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IFwibWVzc2FnZVwiOiBcIkNvbW1lbnQgZGVsZXRlZCBzdWNjZXNzZnVsbHkhISEhIVwiLCBcImRhdGFcIjogZG9jIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxpa2VDb21tZW50KHJlcSwgcmVzKSB7XHJcbiAgICAvL3VwZGF0ZSBsaWtlIGNvdW50IGluIGRiXHJcbiAgICBDb21tZW50TW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7XHJcbiAgICAgICAgcG9zdGlkOiAgcmVxLnBhcmFtcy5ibG9naWQsXHJcbiAgICAgICAgY29tbWVudGlkOiByZXEucGFyYW1zLmNvbW1lbnRpZFxyXG4gICAgfSx7ICRpbmM6IHsgbGlrZTogMSB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgLnRoZW4oKGRvYykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRvYyB8fCBkb2MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZG9jKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IFwibWVzc2FnZVwiOiBcIllvdSBsaWtlZCB0aGlzIGNvbW1lbnQhIVwiLCBcImRhdGFcIjogZG9jIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRpc2xpa2VDb21tZW50KHJlcSwgcmVzKSB7XHJcbiAgICAvL3VwZGF0ZSBsaWtlIGNvdW50IGluIGRiXHJcbiAgICBDb21tZW50TW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7XHJcbiAgICAgICAgcG9zdGlkOiAgcmVxLnBhcmFtcy5ibG9naWQsXHJcbiAgICAgICAgY29tbWVudGlkOiByZXEucGFyYW1zLmNvbW1lbnRpZFxyXG4gICAgfSx7ICRpbmM6IHsgZGlzbGlrZTogMSB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgLnRoZW4oKGRvYykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRvYyB8fCBkb2MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZG9jKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IFwibWVzc2FnZVwiOiBcIllvdSBkaXNsaWtlZCB0aGlzIGNvbW1lbnQhIVwiLCBcImRhdGFcIjogZG9jIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgICAgICAgfSk7XHJcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "comments.service.js"
      ],
      "names": [
        "config",
        "require",
        "db",
        "CommentModel",
        "Comments",
        "module",
        "exports",
        "postComment",
        "getAllComments",
        "getComment",
        "updateComment",
        "deleteComment",
        "likeComment",
        "dislikeComment",
        "req",
        "res",
        "Object",
        "keys",
        "body",
        "length",
        "status",
        "send",
        "name",
        "json",
        "errors",
        "desc",
        "id",
        "params",
        "blogid",
        "create",
        "postid",
        "commentid",
        "comment",
        "err",
        "data",
        "find",
        "commentData",
        "date",
        "findOneAndUpdate",
        "new",
        "then",
        "doc",
        "catch",
        "findOneAndDelete",
        "$inc",
        "like",
        "dislike"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Projects\\DemoProjects\\Assessment_1_1\\service",
      "sourcesContent": [
        "const config = require('../config.json');\r\nconst db = require('../config/db');\r\nconst CommentModel = db.Comments;\r\n\r\nmodule.exports = {\r\n    postComment,\r\n    getAllComments,\r\n    getComment,\r\n    updateComment,\r\n    deleteComment,\r\n    likeComment,\r\n    dislikeComment\r\n};\r\n\r\n\r\n//POST comment\r\nasync function postComment(req, res) {\r\n    //validate\r\n    if (Object.keys(req.body).length === 0) {\r\n        return res.status(400).send('Request Body is missing!!!');\r\n    }\r\n\r\n    if (!req.body.name) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                name: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    if (!req.body.desc) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                desc: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    var id = req.params.blogid;\r\n\r\n    //save comment in db\r\n    CommentModel.create({\r\n        postid: id,\r\n        commentid: req.body.commentid,\r\n        name: req.body.name,\r\n        comment: req.body.desc\r\n    }, function (err, data) {\r\n        if (err)\r\n            res.send(err);\r\n\r\n        res.send({ \"message\": \"success\", \"data\": data });\r\n    });\r\n\r\n};\r\n\r\n//GET all comments of a blog\r\nasync function getAllComments(req, res) {\r\n    CommentModel.find({ postid: req.params.blogid }, function (err, Comments) {\r\n\r\n        if (err) {\r\n            res.send(err);\r\n        }\r\n\r\n        res.json(Comments);\r\n    });\r\n};\r\n\r\n//GET  comment by Id of a blog\r\nasync function getComment(req, res) {\r\n    CommentModel.find({ postid: req.params.blogid, commentid: req.params.commentid }, function (err, Comments) {\r\n\r\n        if (err) {\r\n            res.send(err);\r\n        }\r\n        if (Object.keys(Comments).length !== 0)\r\n            res.json(Comments);\r\n        else\r\n            res.json({ \"message\": \"No comment found!!\" })\r\n    });\r\n};\r\n\r\n\r\n//PUT comment\r\nasync function updateComment(req, res) {\r\n    //validate\r\n    if (Object.keys(req.body).length === 0) {\r\n        return res.status(400).send('Request Body is missing!!!');\r\n    }\r\n\r\n    if (!req.body.name) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                name: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    if (!req.body.desc) {\r\n        return res.status(422).json({\r\n            errors: {\r\n                desc: 'is required',\r\n            },\r\n        });\r\n    }\r\n\r\n    var id = req.params.blogid;\r\n\r\n    //save comment in db\r\n    const commentData = {\r\n        name: req.body.name,\r\n        comment: req.body.desc,\r\n        date: req.body.date\r\n    }\r\n\r\n    CommentModel.findOneAndUpdate({\r\n        postid: id,\r\n        commentid: req.params.commentid\r\n    }, commentData, { new: true })\r\n        .then((doc) => {\r\n            if (!doc || doc.length === 0) {\r\n                return res.status(500).send(doc);\r\n            }\r\n            res.status(201).send({ \"message\": \"Comment updated successfully!!!\", \"data\": doc });\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n\r\n};\r\n\r\n\r\n//DELETE  comment  \r\nasync function deleteComment(req, res) {\r\n    CommentModel.findOneAndDelete(\r\n        {\r\n            postid: req.params.blogid,\r\n            commentid: req.params.commentid\r\n        }\r\n    )\r\n        .then((doc) => {\r\n            res.status(201).send({ \"message\": \"Comment deleted successfully!!!!!\", \"data\": doc });\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}\r\n\r\nasync function likeComment(req, res) {\r\n    //update like count in db\r\n    CommentModel.findOneAndUpdate({\r\n        postid:  req.params.blogid,\r\n        commentid: req.params.commentid\r\n    },{ $inc: { like: 1 } }, { new: true })\r\n        .then((doc) => {\r\n            if (!doc || doc.length === 0) {\r\n                return res.status(500).send(doc);\r\n            }\r\n            res.status(201).send({ \"message\": \"You liked this comment!!\", \"data\": doc });\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}\r\n\r\nasync function dislikeComment(req, res) {\r\n    //update like count in db\r\n    CommentModel.findOneAndUpdate({\r\n        postid:  req.params.blogid,\r\n        commentid: req.params.commentid\r\n    },{ $inc: { dislike: 1 } }, { new: true })\r\n        .then((doc) => {\r\n            if (!doc || doc.length === 0) {\r\n                return res.status(500).send(doc);\r\n            }\r\n            res.status(201).send({ \"message\": \"You disliked this comment!!\", \"data\": doc });\r\n        }\r\n        )\r\n        .catch(err => {\r\n            res.status(500).json(err);\r\n        });\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1550746489485
  }
}